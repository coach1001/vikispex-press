{
  "machineSettings": {
    "type": "Dynamic Creep",
    "commPort": "COM7",
    "baudRate": 38400,
    "load": {
      "channels": [
        {
          "unit": "kN",
          "type": "input",
          "dataChannel": "adc0",
          "mainChannel": true,
          "coff": [0.0000000000000001, 0.00000001, 0.00001, 1],
          "calc": "calc.adc0*calc.adc0*calc.adc0*calc.coff[0]+calc.adc0*calc.adc0*calc.coff[1]+calc.adc0*calc.coff[2]+calc.coff[3]",
          "realMin": -5,
          "realMax": 160,
          "samples": 8,
          "realValuePrecision": 2
        }
      ]
    },
    "displacement": {
      "channels": [
        {
          "type": "input",
          "unit": "mm",
          "dataChannel": "adc2",
          "dataMin": 5,
          "dataMax": 1023,
          "mainChannel": true,
          "length": 50,
          "calc": "(calc.adc2/(calc.dataMax-calc.dataMin))*calc.length",
          "realMin": 5,
          "realMax": 45,
          "samples": 8,
          "realValuePrecision": 2
        }
      ]
    },
    "limits": {
      "channels": [
        {
          "type": "input",
          "unit": "integer",
          "dataChannel": "sw0",
          "calc": "sw0",
          "activatedValue": 1
        },
        {
          "type": "input",
          "unit": "integer",
          "dataChannel": "sw1",
          "calc": "sw1",
          "activatedValue": 1
        }
      ]
    },
    "motor": {
      "channels": [
        {
          "type": "output",
          "unit": "integer",
          "dataChannel": "pwm0",
          "mainChannel": true,
          "calc": "if(calc.out+calc.outMin > calc.outMax) {calc.out = calc.outMax} else if(calc.outMin+calc.out < calc.outMin) {calc.out = calc.outMin} else {calc.out = calc.out+calc.outMin}",
          "outMin": 600,
          "outMax": 16000,
          "manual": 1000
        }
      ]
    },
    "direction": {
      "channels": [
        {
          "type": "output",
          "unit": "integer",
          "dataChannel": "r0",
          "forward": 1,
          "reverse": 0,
          "idle": 0,
          "motorChannel": 0
        }
      ]
    }
  },
  "testTypes": ["RATE_OF_LOADING", "RATE_OF_DISPLACEMENT", "STATIC_CREEP", "DYNAMIC_CREEP"],
  "tests": [
    {
      "id": 1,
      "name": "Dynamic Creep",
      "testType": "DYNAMIC_CREEP",
      "calculated": [
        {
          "name": "load",
          "calc": "(((input.diameter/2)*(input.diameter/2)*Math.PI)/1000)*input.stress"
        }
      ],
      "inputs": [
        {
          "fieldType": "TextInput",
          "label": "Sample number",
          "name": "sampleNumber",
          "validation": "required",
          "defaultValue": "Default"
        },
        {
          "fieldType": "DatePickerInput",
          "label": "Date",
          "name": "date",
          "validation": "required"
        },
        {
          "fieldType": "NumberInput",
          "label": "Conditioning cycles",
          "name": "conditioningCycles",
          "validation": "required|min_value:1|numeric|max_value:200",
          "defaultValue": 30
        },
        {
          "fieldType": "NumberInput",
          "label": "Cycles",
          "name": "cycles",
          "validation": "required|min_value:1|numeric|max_value:999999",
          "defaultValue": 3600
        },
        {
          "fieldType": "NumberInput",
          "label": "Stress (kPa)",
          "name": "stress",
          "validation": "required|min_value:1|decimal:1|max_value:200",
          "defaultValue": 60
        },
        {
          "fieldType": "NumberInput",
          "label": "Diameter (mm)",
          "name": "diameter",
          "validation": "required|min_value:10|decimal:1|max_value:500",
          "defaultValue": 60
        },
        {
          "fieldType": "NumberInput",
          "label": "Frequency (Hz)",
          "name": "frequency",
          "validation": "required|min_value:0.01|decimal:2|max_value:4",
          "defaultValue": 0.5
        },
        {
          "fieldType": "NumberInput",
          "label": "Sample height (mm)",
          "name": "sampleHeight",
          "validation": "required|min_value:20|decimal:1|max_value:300",
          "defaultValue": 60
        }
      ]
    }
  ]
}
